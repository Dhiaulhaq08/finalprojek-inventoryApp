<%- include('../layout/header.ejs') %>
<%- include('../layout/navbar.ejs') %>
<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  <div class="col-md-9">
    <h1>Add Product Detail</h1>
    <form action="/add" method="POST" enctype="multipart/form-data">
      <label for="nama_produk">Product Name</label>
      <input type="text" id="nama_produk" name="nama_produk" required><br><br>

      <label for="product_picture">Product Picture (Upload Image)</label>
      <input type="file" id="product_picture" name="product_picture" accept="image/*" required onchange="previewImage()"><br><br>

      <label for="category_id">Category</label>
      <select id="category_id" name="category_id" required class="form-select" aria-label="Default select example">
        <option selected>Open this select menu</option>
        <% categories.forEach(category => { %>
          <option value="<%= category.id %>"><%= category.nama_category %></option>
        <% }) %>
      </select><br><br>

      <label for="jumlah_produk">Jumlah Produk</label>
      <input type="number" id="jumlah_produk" name="jumlah_produk" required><br><br>

      <label for="added_by_id">Added By</label>
      <select id="added_by_id" name="added_by_id" required>
        <option value="">-- Select Added By --</option>
        <% addedBy.forEach(user => { %>
          <option value="<%= user.id %>"><%= user.username %> (<%= user.full_name %>)</option>
        <% }) %>
      </select><br><br>

      <label for="added_to_id">Added To</label>
      <select id="added_to_id" name="added_to_id" required>
        <option value="">-- Select Added To --</option>
        <% addedTo.forEach(page => { %>
          <option value="<%= page.id %>"><%= page.name %></option>
        <% }) %>
      </select><br><br>

      <label for="distributors_id">Distributor</label>
      <select id="distributors_id" name="distributors_id" required>
        <option value="">-- Select Distributor --</option>
        <% distributors.forEach(distributor => { %>
          <option value="<%= distributor.id %>"><%= distributor.nama_distributor %></option>
        <% }) %>
      </select><br><br>

      <label for="qr_code">QR Code</label>
      <input type="text" id="qr_code" name="qr_code"><br><br>

      <label for="is_sale">Is Sale</label>
      <input type="checkbox" id="is_sale" name="is_sale"><br><br>

      <button type="submit">Add Produk</button>
    </form>
    <br>
    <a href="/">Back to Produk List</a>
  </div>


<%- include('../layout/footer.ejs') %>
